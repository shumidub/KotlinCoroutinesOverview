<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Kotlin Playground examples</title>
</head>
<body>
<section id="container">
<script src="https://unpkg.com/kotlin-playground@1"></script>
<script>
function insertKotlinCodeBlock(title,code){
    console.log('start insertKotlinCodeBlock')
    document.getElementById('container').insertAdjacentHTML(
        'beforeend',
        `<h1>${title}</h1>`
    );
    
    document.getElementById('container').insertAdjacentHTML(
        'beforeend',
        `<div class="kotlin-code" data-target-platform="jvm" theme="darcula"><pre><code class="hljs language-kotlin">${code}</code></pre></div>`
    );
    console.log('end insertKotlinCodeBlock')
} 

fetch("/code-example.txt")
    .then( response => response.text() )
    .then( text => insertKotlinCodeBlock('Kotlin Playground demo', text) )
    .then( console.log('then KotlinPlayground'); KotlinPlayground('.kotlin-playground'); )

</script>
</section>
<script src="https://unpkg.com/kotlin-playground@1" data-selector="code" defer></script>    
</body>
</html>
